name: Suggest A Tip
run-name: How much do you want to tip ${{ github.actor }}?
on: [pull_request]
jobs:
  suggest_tips:
    runs-on: ubuntu-latest
    steps:
      - run: |
          sponsor_status=$(curl -o /dev/null -s -w "%{http_code}" -I -L https://github.com/sponsors/{{ github.actor }})
          if [ "$sponsor_status" -eq 200 ]; then
            echo "URL does not redirect, workflow succeeds."
          else
            echo "URL redirects, workflow fails."
            exit 1
          fi
